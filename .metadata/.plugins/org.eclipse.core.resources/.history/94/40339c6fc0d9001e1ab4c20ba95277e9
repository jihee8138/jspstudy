<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>
<body>

<div>
  <button type="button" id="btn1">정보가져오기</button>
</div>
<table border="1">
  <tbody id="contents1"></tbody>
</table>

<script>

  // XML 데이터 요청
  const getData1= ()=>{
	  const options={
			method: 'GET'
	  }  
	  fetch('/servlet/getData1', options)
	  // fetch의 반환값 : promise. 비동기작업 시 실행이 얼마나 걸리든 실행결과가 돌아오면 보여주겠다
	  // fetch는 promise로 반환되고 fetch 뒤에는 then이 반환된다.
	  // fetch에 들어있는 건 응답객체. then에 들어있는 response는 반환객체
	     // .then(이행함수(응답데이터))
	     /*.then((response) => {
	    	 if(response.ok) {
	    		 return response.text();  // XML 데이터는 텍스트로 받아온다.
	    	 }
	     })*/
	  // XML 데이터는 텍스트로 받아온다.
	  // then도 promise를 반환한다.
	  // then은 순수 xml 데이터가 들어있는 promise가 반환된다.
	     .then(response=>response.text())
	     .then(resData=>{
	    	 console.log(resData);
	     })
  }
  
  document.getElementById("btn1").addEventListner('click', getData1);
</script>

</body>
</html>